<div class="task">
	<div class="task-header">
		<div class="header-text">新建运营活动</div>
		<div class="task-sequence">
			<div class='task_list' >1</div>
			<span></span>
			<div class='task_list' >2</div>
			<span></span>
			<div class='task_list' >3</div>
		</div>
	</div>
	<div class="panel panel-default panel-border">
		<div class="panel-heading">活动基本信息</div>
		<div class="panel-body">
			<div class="form-lyout">
				<div class="form-title">活动名称</div>
				<div class="form-layout">
					<input type="text" class='form-control' placeholder="请输入活动名称" ng-model='task_1Ctrl.task.name' >
				</div>
			</div>
			<div class="form-lyout">
				<div class="form-title">是否有效</div>
				<div class="form-layout">
					<label class="radio-inline">
					  <input type="radio" name="enabled" value="true" ng-model='task_1Ctrl.task.enabled' > 是
					</label>
					<label class="radio-inline">
					  <input type="radio" name="enabled" value="false" ng-model='task_1Ctrl.task.enabled' checked > 否
					</label>
				</div>
			</div>
			<div class="form-lyout">
				<div class="form-title">活动优先级</div>
				<div class="form-layout">
					<input type="number" class='form-control' ng-model='task_1Ctrl.task.priority' placeholder="请输入优先级范围(1~120)" >
				</div>
			</div>
			<div class="form-lyout">
				<div class="form-title">活动排他性</div>
				<div class="form-layout">
					<div class="col-xs-6">
						<div class="radio">
						  <label>
						    <input type="radio" name="exclusives" value="true"  ng-model='task_1Ctrl.task.exclusive' checked>
						    是
						  </label>
						</div>
						<div class="radio">
						  <label>
						    <input type="radio" name="exclusives" value="false" ng-model='task_1Ctrl.task.exclusive' >
						    否
						  </label>
						</div>
						<table class='table table-responsive table-hover' ng-show='task_1Ctrl.exclusive' >
							<tr>
								<th>活动名称</th>
								<th>活动id</th>
								<th>优先级</th>
							</tr>
							<tr class='text-center'>
								<td>全场满20-5</td>
								<td>123</td>
								<td>123</td>
							</tr>
							<tr class='text-center'>
								<td>全场满20-5</td>
								<td>123</td>
								<td>123</td>
							</tr>
						</table>
					</div>
				</div>
			</div>
			<div class="form-lyout">
				<div class="form-title">活动简介</div>
				<div class="form-layout">
					<textarea name="" id="" cols="30" class='form-control' ng-model='task_1Ctrl.task.description' placeholder="请输入活动简介" rows="10"></textarea>
				</div>
			</div>
		</div>
	</div>
	<div class="panel panel-default panel-border">
		<div class="panel-heading">参与活动的对象及范围</div>
		<div class="panel-body">
			<div class="radio">
			  <label>
			    <input type="radio" name="userType"  ng-model='task_1Ctrl.task.userType' value="tALL_USER" checked>
			    全部用户
			  </label>
			</div>
			<div class="radio">
			  <label>
			    <input type="radio" name="userType"  ng-model='task_1Ctrl.task.userType' value="NEW_USER">
			    定向用户
			  </label>
			</div>
		</div>
	</div>
	<div class="panel panel-default panel-border">
		<div class="panel-heading">参与区域</div>
		<div class="panel-body">
			<div class="radio">
			  <label>
			    <input type="radio" name="storeType" ng-model='task_1Ctrl.task.storeType' value='ALL_STORE' checked>
			    全部门店
			  </label>
			</div>
			<div class="radio">
			  <label>
			    <input type="radio" name="storeType" ng-model='task_1Ctrl.task.storeType' value='SELECTED_STORE'>
			    部分门店
			  </label>
			</div>
			<div class="storesFilter col-xs-12" ng-show='!task_1Ctrl.task.storeType' >
				<div class="col-xs-6">
					<p class='Filter-title'>
						全部门店
						<a href="javascript:;" class="btn btn-turquoise pull-right" ng-click='task_1Ctrl.TopStore()' >添加</a>
					</p>
					<table ng-table="task_1Ctrl.StroesList" class="table table-bordered table-striped table-condensed text-center">
							<tr ng-repeat="item in $data">
								<td width='50' header="'check.html'" >
									<input type="checkbox" ng-true-value='true' ng-false-value='false' ng-disabled="!item.status" ng-model="item.active" style="margin-right:5px;">{{$index+1>9?$index+1:'0'+($index+1)}}
								</td>
									<td width='100' data-title="'门店品牌'" filter="{brand: 'text'}" sortable="'name'" >{{item.brand.name}}</td>
									<td width='100' data-title="'门店类型'" filter="{type: 'text'}" sortable="'type'" >
										<span ng-show='item.type=="DIRECT_STORE"'>连锁店</span>
										<span ng-show='item.type=="FRANCHISED_STORE"'>加盟店</span>
									</td>
									<td data-title="'门店区域'" filter="{'source': 'text'}" sortable="'brand.name'" >{{item.areas[2].name+'-'+item.areas[3].name}}</td>
									<td data-title="'门店名称'" filter="{'name': 'text'}" >{{item.name}}</td>
									<td data-title="'操作'">
											<a href="javascript:;" class="btn btn-primary" ng-disabled="!item.status" ng-click='task_1Ctrl.AddStores(item)' >添加</a>
									</td>
							</tr>
					</table>

				</div>
				<div class="col-xs-6 ">
					<p class='Filter-title'>
						已选门店
						<a href="javascript:;" class="btn btn-red pull-right" ng-click="task_1Ctrl.delStores(null)" >删除</a>
					</p>
					<table class="table-bordered table-striped table-condensed text-center col-xs-12 ">
						<tr>
							<th width='50'><input type="checkbox" class='form-contol' ng-click=task_1Ctrl.delAll() ></th>
							<th>门店名称</th>
							<th>门店区域</th>
							<th width='50'>操作</th>
						</tr>
						<tr ng-repeat='list in task_1Ctrl.FilterStores'>
							<td>
								<input type="checkbox" ng-true-value='true' ng-false-value='false' ng-model="list.check" style="margin-right:5px;">{{$index+1>9?$index+1:'0'+($index+1)}}
							</td>
							<td>{{list.name}}</td>
							<td>2</td>
							<td>
								<a href="javascript:;" class="btn btn-primary" ng-click='task_1Ctrl.delStores($index)' >删除</a>
							</td>
						</tr>
					</table>
				</div>
			</div>
		</div>
	</div>
	<div class="panel panel-default panel-border">
		<div class="panel-heading">参与时间与次数</div>
		<div class="panel-body">
			<div class="col-xs-6">
				<div class="form-lyout">
					<div class="form-title">有效时间</div>
					<div class="form-layout">
						<div class="input-group">
							<div class="input-group-addon">从</div>
							<input type="text" class="form-control" onclick="laydate()" ng-model='task_1Ctrl.task.startTime' >
							<div class="input-group-addon">到</div>
							<input type="text" class="form-control" onclick="laydate()" ng-model='task_1Ctrl.task.endTime' >
						</div>
					</div>
				</div>
			</div>
			<div class="col-xs-6">
				<div class="form-lyout">
					<div class="form-title">参与次数</div>
						<div class="form-layout">
						<div class="radio">
						  <label>
						    <input type="radio" name="timesLimitType" ng-model='task_1Ctrl.task.timesLimitType' value="true" checked>
						    仅限一次
						  </label>
						</div>
						<div class="radio">
						  <label>
						    <input type="radio" name="timesLimitType" ng-model='task_1Ctrl.task.timesLimitType' value="false">
						    限制次数
						  </label>
						</div>
						<div class="radio">
						  <label>
						    <input type="radio" name="timesLimitType" ng-model='task_1Ctrl.task.timesLimitType' value="RECURRENT">
						    限制周期
						  </label>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="panel panel-default panel-border">
			<div class="panel-body">
					<div class="form-lyout">
						<div class="form-title">选择促销商品范围:</div>
						<div class="form-layout">
							<label class="radio-inline">
								<input type="radio" name="enabled" value="ALL_PRODUCT" ng-model='task_1Ctrl.task.productType' > 全场通用
							</label>
								<label class="radio-inline">
								<input type="radio" name="enabled" value="SELECTED_PRODUCT" ng-model='task_1Ctrl.task.productType' > 限定单品
							</label>
						</div>
					</div>
				<div class="col-xs-12 p0">
						<div class="col-xs-6 p0">
								<div class="panel panel-default panel-border">
									<div class="panel-heading">参与促销的商品</div>
									<div class="panel-body">
											<table ng-table="task_1Ctrl.goodList" class="table table-bordered table-striped table-condensed text-center">
													<tr ng-repeat="item in $data">
														<td width='50' header="'check.html'" >
															<input type="checkbox" ng-true-value='true' ng-false-value='false' ng-disabled="!item.status" ng-model="item.active" style="margin-right:5px;">{{$index+1>9?$index+1:'0'+($index+1)}}
														</td>
															<td width='100' data-title="'门店品牌'" filter="{brand: 'text'}" sortable="'name'" >{{item.brand.name}}</td>
															<td width='100' data-title="'一级分类'" filter="{type: 'text'}" sortable="'type'" >
														
															</td>
															<td data-title="'二级分类'" filter="{'source': 'text'}" sortable="'brand.name'" >{{item.areas[2].name+'-'+item.areas[3].name}}</td>
															<td data-title="'名称'" filter="{'name': 'text'}" >{{item.name}}</td>
															<td data-title="'规格'" filter="{'name': 'text'}" >{{item.name}}</td>
															<td data-title="'操作'">
																	<a href="javascript:;" class="btn btn-primary" ng-disabled="!item.status" ng-click='task_1Ctrl.AddStores(item)' >添加</a>
															</td>
													</tr>
											</table>
									</div>
								</div>
						</div>
						<div class="col-xs-6 p0">
								<div class="panel panel-default panel-border">
									<div class="panel-heading">参与促销的商品</div>
									<div class="panel-body">
											<table ng-table="task_1Ctrl.goodList" class="table table-bordered table-striped table-condensed text-center">
													<tr ng-repeat="item in $data">
														<td width='50' header="'check.html'" >
															<input type="checkbox" ng-true-value='true' ng-false-value='false' ng-disabled="!item.status" ng-model="item.active" style="margin-right:5px;">{{$index+1>9?$index+1:'0'+($index+1)}}
														</td>
															<td width='100' data-title="'门店品牌'" filter="{brand: 'text'}" sortable="'name'" >{{item.brand.name}}</td>
															<td width='100' data-title="'一级分类'" filter="{type: 'text'}" sortable="'type'" >
														
															</td>
															<td data-title="'二级分类'" filter="{'source': 'text'}" sortable="'brand.name'" >{{item.areas[2].name+'-'+item.areas[3].name}}</td>
															<td data-title="'名称'" filter="{'name': 'text'}" >{{item.name}}</td>
															<td data-title="'规格'" filter="{'name': 'text'}" >{{item.name}}</td>
															<td data-title="'操作'">
																	<a href="javascript:;" class="btn btn-primary" ng-disabled="!item.status" ng-click='task_1Ctrl.AddStores(item)' >添加</a>
															</td>
													</tr>
											</table>
									</div>
								</div>
						</div>
				</div>
			</div>
	</div>
</div>
<script  type="text/ng-template" id="check.html" >
	<input type="checkbox" ng-click='task_1Ctrl.StoreAll()' >
</script>
